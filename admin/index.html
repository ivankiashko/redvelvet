<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RedVelvet - Админ-панель</title>
    <link rel="stylesheet" href="../src/css/styles.css">
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">RedVelvet Admin</div>
            <nav>
                <button class="btn btn-outline" onclick="logout()">Выход</button>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="admin-dashboard">
            <h1>Панель администратора</h1>

            <!-- Общая статистика -->
            <div class="dashboard-header">
                <h2>Общая статистика</h2>
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-card-value" id="totalProfiles">0</div>
                        <div class="stat-card-label">Всего анкет</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-value" id="totalClients">0</div>
                        <div class="stat-card-label">Всего клиентов</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-value" id="totalReviews">0</div>
                        <div class="stat-card-label">Всего отзывов</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-value" id="totalTransactions">0</div>
                        <div class="stat-card-label">Всего транзакций</div>
                    </div>
                </div>
            </div>

            <!-- Управление анкетами -->
            <div class="admin-section">
                <h2>Управление анкетами</h2>
                <div class="admin-controls">
                    <button class="btn btn-outline" onclick="loadProfiles()">Обновить список</button>
                    <button class="btn btn-primary" onclick="showQuickCreateModal()">Быстрое создание анкеты</button>
                    <button class="btn btn-outline" onclick="exportData('profiles')">Экспорт данных</button>
                    <button class="btn btn-outline" style="background: rgba(255, 59, 48, 0.1); border-color: rgba(255, 59, 48, 0.3); color: #ff3b30;" onclick="deleteAllProfiles()">Удалить все анкеты</button>
                </div>
                <div id="profilesList" class="admin-list">
                    <p class="no-data">Загрузка...</p>
                </div>
            </div>

            <!-- Управление пользователями -->
            <div class="admin-section">
                <h2>Управление пользователями</h2>
                <div class="admin-controls">
                    <button class="btn btn-outline" onclick="loadUsers()">Загрузить пользователей</button>
                    <button class="btn btn-outline" onclick="exportData('users')">Экспорт данных</button>
                </div>
                <div id="usersList" class="admin-list">
                    <p class="no-data">Нажмите "Загрузить пользователей" для просмотра</p>
                </div>
            </div>

            <!-- Управление отзывами -->
            <div class="admin-section">
                <h2>Управление отзывами</h2>
                <div class="admin-controls">
                    <button class="btn btn-outline" onclick="loadReviews()">Обновить список</button>
                    <button class="btn btn-outline" onclick="exportData('reviews')">Экспорт данных</button>
                </div>
                <div id="reviewsList" class="admin-list">
                    <p class="no-data">Загрузка...</p>
                </div>
            </div>

            <!-- Транзакции -->
            <div class="admin-section">
                <h2>Транзакции</h2>
                <p class="info-text">
                    Раздел для отслеживания всех финансовых операций на платформе.
                    <br><strong>Статус:</strong> В разработке
                </p>
                <div id="transactionsList" class="admin-list">
                    <p class="no-data">Функционал в разработке</p>
                </div>
            </div>

            <!-- Опасная зона -->
            <div class="admin-section" style="border: 2px solid rgba(255, 59, 48, 0.3); background: rgba(255, 59, 48, 0.05);">
                <h2 style="color: #ff3b30;">Опасная зона</h2>
                <p class="info-text" style="color: #ff9500;">
                    <strong>ВНИМАНИЕ!</strong> Действия в этой зоне необратимы и удалят все данные платформы.
                </p>
                <div class="admin-controls">
                    <button class="btn btn-outline" style="background: rgba(255, 59, 48, 0.2); border-color: rgba(255, 59, 48, 0.5); color: #ff3b30; font-weight: bold;" onclick="clearAllData()">Удалить ВСЕ данные</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast контейнер -->
    <div id="toastContainer" style="position: fixed; top: 20px; right: 20px; z-index: 10000; display: flex; flex-direction: column; gap: 10px;"></div>

    <!-- Модальное окно подтверждения -->
    <div id="confirmModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <h2 id="confirmTitle">Подтверждение</h2>
            <p id="confirmMessage" style="color: var(--text-gray); line-height: 1.6; margin: 20px 0;"></p>
            <div style="display: flex; gap: 15px; justify-content: flex-end;">
                <button class="btn btn-outline" id="confirmCancel">Отмена</button>
                <button class="btn btn-primary" id="confirmOk">ОК</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно быстрого создания анкеты -->
    <div id="quickCreateModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <button class="modal-close" onclick="closeQuickCreateModal()">&times;</button>
            <h2>Быстрое создание тестовой анкеты</h2>
            <p style="color: var(--text-gray); margin-bottom: 20px;">
                Создайте анкету с случайными услугами и номером телефона для тестирования
            </p>
            <form onsubmit="handleQuickCreate(event)">
                <div class="form-group">
                    <label>Имя *</label>
                    <input type="text" id="quickName" required placeholder="Например: Анастасия">
                </div>
                <div class="form-group">
                    <label>Возраст *</label>
                    <input type="number" id="quickAge" min="18" max="99" required placeholder="Например: 25">
                </div>
                <div class="form-group">
                    <label>Город *</label>
                    <select id="quickCity" required>
                        <option value="">Выберите город</option>
                        <option value="moscow">Москва</option>
                        <option value="spb">Санкт-Петербург</option>
                        <option value="krasnodar">Краснодар</option>
                        <option value="sochi">Сочи</option>
                        <option value="ekaterinburg">Екатеринбург</option>
                        <option value="kazan">Казань</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Описание *</label>
                    <textarea id="quickDescription" rows="3" required placeholder="Краткое описание модели..."></textarea>
                </div>
                <p style="color: var(--text-gray); font-size: 14px; margin: 20px 0;">
                    ℹ️ Параметры внешности, услуги и номер телефона будут сгенерированы случайно
                </p>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Создать анкету</button>
            </form>
        </div>
    </div>

    <script src="admin.js"></script>
</body>
</html>
